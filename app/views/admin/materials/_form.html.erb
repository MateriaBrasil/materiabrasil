<%= active_admin_form_for [:admin, @material] do |f|%>


  <%= f.inputs "Fabricante" do %>
    <%= f.input :manufacturer, :label => false, :input_html => {:"data-placeholder" => "Clique e selecione uma opção"} %>
  <% end %>

  <%= f.inputs "Categorias" do %>
    <% Category.where(:parent_id => nil).each do |c| %>
      <% if c.parent.nil? %>
        <div class="category index_category parent_category">
          <h4><%= c.name %></h4>
          <div class="material_category">
            <ul class="categories">
              <% # First children%>
              <% c.children.each do |child| %>
                <li>
                  <label class="strong" >
                    <%= f.input :categories, :as => :check_boxes, :label => child.name, :value => child.id %>
                  </label>
                  <ul>
                    <% child.children.each do |second_child| %>
                      <li>
                        <label>
                          <input name="material[category_ids][]" class="parent child" type="checkbox" value="<%= second_child.id %>"/>
                          &nbsp;<%= second_child.name %>
                        </label>

                        <ul>
                          <% second_child.children.each do |third_child| %>
                          <li>
                            <label>
                              <input name="material[category_ids][]" class="sec_child" type="checkbox" value="<%= third_child.id %>"/>
                              &nbsp;<%= third_child.name %>
                            </label>
                          </li>
                          <% end %>
                        </ul>
                      </li>
                    <% end %>
                  </ul>
                </li>
              <% end %>
            </ul>
          </div>
        </div>
      <% end %>

    <% end %>

  <% end %>

  <%= f.inputs "Sobre o material" do %>
    <%= f.input :resume, :label => "Resumo"%>
  <% end %>

  <%= f.inputs "Informações técnicas" do %>
    <%= f.input :technical_observation, :label => "Observações Técnicas" %>
  <% end %>


  <%= f.inputs "Detalhes técnicos" do %>
    <%= f.input :density, :label => "Densidade" %>
    <%= f.input :dimensions, :label => "Dimensões" %>
    <%= f.input :packing, :label => "Embalagem" %>
    <%= f.input :average_price, :label => "Preço Médio" %>
  <% end %>

  <%= f.inputs "Imagens" do %>
    <%= f.has_many :images do |img| %>
      <%= img.input :title %>
      <%= img.input :description %>
      <%= img.input :featured %>
      <%= img.input :use_case %>
      <%= img.input :image, :as => :file %>
    <% end %>
  <% end %>
  <%= f.buttons %>


<% end %>

